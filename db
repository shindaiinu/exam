CREATE DATABASE videoteka;
GO
USE videoteka;
GO

CREATE TABLE artisty (
    id INT IDENTITY(1,1) PRIMARY KEY,
    imya VARCHAR(100) NOT NULL,
    familiya VARCHAR(100) NOT NULL,
    data_rozhdeniya DATE,
    biografiya varchar(250)
);

CREATE TABLE filmy (
    id INT IDENTITY(1,1) PRIMARY KEY,
    nazvanie VARCHAR(200) NOT NULL,
    god_vypuska INT NOT NULL,
    zhanr VARCHAR(50),
    tsena MONEY NOT NULL,
    id_artista INT,
    FOREIGN KEY (id_artista) REFERENCES artisty(id)
);

CREATE TABLE prodazhi (
    id INT IDENTITY(1,1) PRIMARY KEY,
    id_filma INT NOT NULL,
    data_prodazhi DATE NOT NULL,
    kolichestvo INT NOT NULL,
    summa MONEY NOT NULL,
    FOREIGN KEY (id_filma) REFERENCES filmy(id)
);
