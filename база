CREATE DATABASE alpha_hotel;
USE alpha_hotel;

CREATE TABLE Roles (
    RoleID INT AUTO_INCREMENT PRIMARY KEY,
    RoleName VARCHAR(50) NOT NULL
);

CREATE TABLE Users (
    UserID INT AUTO_INCREMENT PRIMARY KEY,
    UserName VARCHAR(50) NOT NULL,
    RoleID INT NOT NULL,
    Password VARCHAR(50) NOT NULL,
    LastLoginDate TIMESTAMP,
    Blocked BOOLEAN,
    PasswordChanged BOOLEAN,
    FOREIGN KEY (RoleID) REFERENCES Roles(RoleID)
);

CREATE TABLE Clients (
    ClientID INT AUTO_INCREMENT PRIMARY KEY,
    ClientName VARCHAR(100) NOT NULL,
    Passport VARCHAR(50) NOT NULL,
    Address VARCHAR(200)
);

CREATE TABLE Rooms (
    RoomID TEXT AUTO_INCREMENT PRIMARY KEY,
    Floor INT NOT NULL,
    RoomNumber INT NOT NULL,
    RoomCategory VARCHAR(255) NOT NULL,
    RoomStatus VARCHAR(50) NOT NULL,
    Price DECIMAL(10, 2) NOT NULL
);

CREATE TABLE Cards (
    CardID INT AUTO_INCREMENT PRIMARY KEY,
    CreatedDate DATE NOT NULL,
    DestroyDate DATE
);

CREATE TABLE Orders (
    OrderID INT AUTO_INCREMENT PRIMARY KEY,
    ClientID INT NOT NULL,
    RoomID INT NOT NULL,
    UserID INT NOT NULL,
    CardID INT NOT NULL,
    CheckIn TIMESTAMP NOT NULL,
    CheckOut TIMESTAMP NOT NULL,
    FOREIGN KEY (ClientID) REFERENCES Clients(ClientID),
    FOREIGN KEY (RoomID) REFERENCES Rooms(RoomID),
    FOREIGN KEY (UserID) REFERENCES Users(UserID),
    FOREIGN KEY (CardID) REFERENCES Cards(CardID)
);
